<!doctype html><html lang=es-es><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Third Lightning Talk | Equilibrist of Go Blog</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Temas a tratar en la tercera sesión Mutex En golang existe el patron CSP que facilita mucho la concurrencia, pero de el hablaremos otro dia, hoy simplemente nos quedamos con los mutex, que nos permiten sincronizar bloques de codigo usando objetos que permiten el bloqueo de lectura o lectura/escritura.
&mldr;
Ejemplos de código La idea de estos ejemplos, es ver como con un ejemplo de codigo simplificado podemos pasar de: La necesidad de sincronizar el acceso a variables comunes, descubierto por unos test unitarios, corridos para detectar &ldquo;race ocndition&rdquo; &mldr; Ha como se puede reorganizar el codigo para dejar de usar los mutex y pasar al enfoque CSP."><meta name=generator content="Hugo 0.104.3"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/blog/ananke/css/main.min.css><meta property="og:title" content="Third Lightning Talk"><meta property="og:description" content="Temas a tratar en la tercera sesión Mutex En golang existe el patron CSP que facilita mucho la concurrencia, pero de el hablaremos otro dia, hoy simplemente nos quedamos con los mutex, que nos permiten sincronizar bloques de codigo usando objetos que permiten el bloqueo de lectura o lectura/escritura.
&mldr;
Ejemplos de código La idea de estos ejemplos, es ver como con un ejemplo de codigo simplificado podemos pasar de: La necesidad de sincronizar el acceso a variables comunes, descubierto por unos test unitarios, corridos para detectar &ldquo;race ocndition&rdquo; &mldr; Ha como se puede reorganizar el codigo para dejar de usar los mutex y pasar al enfoque CSP."><meta property="og:type" content="article"><meta property="og:url" content="https://equilibristofgo.github.io/blog/posts/03-post/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-12T19:00:00+02:00"><meta property="article:modified_time" content="2022-10-12T19:00:00+02:00"><meta itemprop=name content="Third Lightning Talk"><meta itemprop=description content="Temas a tratar en la tercera sesión Mutex En golang existe el patron CSP que facilita mucho la concurrencia, pero de el hablaremos otro dia, hoy simplemente nos quedamos con los mutex, que nos permiten sincronizar bloques de codigo usando objetos que permiten el bloqueo de lectura o lectura/escritura.
&mldr;
Ejemplos de código La idea de estos ejemplos, es ver como con un ejemplo de codigo simplificado podemos pasar de: La necesidad de sincronizar el acceso a variables comunes, descubierto por unos test unitarios, corridos para detectar &ldquo;race ocndition&rdquo; &mldr; Ha como se puede reorganizar el codigo para dejar de usar los mutex y pasar al enfoque CSP."><meta itemprop=datePublished content="2022-10-12T19:00:00+02:00"><meta itemprop=dateModified content="2022-10-12T19:00:00+02:00"><meta itemprop=wordCount content="257"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Third Lightning Talk"><meta name=twitter:description content="Temas a tratar en la tercera sesión Mutex En golang existe el patron CSP que facilita mucho la concurrencia, pero de el hablaremos otro dia, hoy simplemente nos quedamos con los mutex, que nos permiten sincronizar bloques de codigo usando objetos que permiten el bloqueo de lectura o lectura/escritura.
&mldr;
Ejemplos de código La idea de estos ejemplos, es ver como con un ejemplo de codigo simplificado podemos pasar de: La necesidad de sincronizar el acceso a variables comunes, descubierto por unos test unitarios, corridos para detectar &ldquo;race ocndition&rdquo; &mldr; Ha como se puede reorganizar el codigo para dejar de usar los mutex y pasar al enfoque CSP."></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/blog/ class="f3 fw2 hover-white no-underline white-90 dib">Equilibrist of Go Blog</a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">Third Lightning Talk</h1><time class="f6 mv4 dib tracked" datetime=2022-10-12T19:00:00+02:00>October 12, 2022</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h1 id=temas-a-tratar-en-la-tercera-sesión>Temas a tratar en la tercera sesión</h1><h2 id=mutex>Mutex</h2><p>En golang existe el patron CSP que facilita mucho la concurrencia, pero de el hablaremos otro dia, hoy simplemente nos quedamos con los mutex, que nos permiten sincronizar bloques de codigo usando objetos que permiten el bloqueo de lectura o lectura/escritura.</p><p>&mldr;</p><h3 id=ejemplos-de-código>Ejemplos de código</h3><ul><li>La idea de estos ejemplos, es ver como con un ejemplo de codigo simplificado podemos pasar de:<ul><li>La necesidad de sincronizar el acceso a variables comunes, descubierto por unos test unitarios, corridos para detectar &ldquo;race ocndition&rdquo;</li><li>&mldr;</li><li>Ha como se puede reorganizar el codigo para dejar de usar los mutex y pasar al enfoque CSP.</li><li>Puedes ver la evolucion <a href=https://github.com/equilibristofgo/sandbox/tree/feat/mutex_example/05_race_condition>aqui</a></li></ul></li></ul><h2 id=testing-api-rest>Testing api rest</h2><p>Golang tiene bien integrado en sus bases el mundo del testing, y para test de APIS rest, existe una utilidad para poder moquear los servidores de tal forma que podamos probar facilmente esas apis.</p><p>Como ejemplo de proxy, realizado por la comunidad, tenemos a parte de los clasicos&mldr; a Killgrave.</p><ul><li>Links a organizar<ul><li><a href=https://github.com/intercloud/venom/tree/executor-tavern/executors/tavern>https://github.com/intercloud/venom/tree/executor-tavern/executors/tavern</a></li><li><a href=https://github.com/friendsofgo/killgrave>https://github.com/friendsofgo/killgrave</a></li></ul></li></ul><h3 id=ejemplos-de-código-1>Ejemplos de código</h3><ul><li><a href>Aqui</a></li></ul><h2 id=paquetería-interna-no-exportable-en-go>Paquetería interna no exportable en go</h2><p>Aqui el tema esta, no solo para atributos sino paquetes enteros.</p><ul><li>Links a organizar<ul><li><a href=https://stackoverflow.com/questions/59342373/use-of-internal-package-not-allowed>https://stackoverflow.com/questions/59342373/use-of-internal-package-not-allowed</a><ul><li><a href=https://go.dev/doc/go1.4#internalpackages>https://go.dev/doc/go1.4#internalpackages</a></li><li><a href=https://pkg.go.dev/cmd/go#hdr-Internal_Directories>https://pkg.go.dev/cmd/go#hdr-Internal_Directories</a></li></ul></li><li><a href=https://www.practical-go-lessons.com/chap-11-packages-and-imports#the-internal-directory>https://www.practical-go-lessons.com/chap-11-packages-and-imports#the-internal-directory</a></li></ul></li></ul><h3 id=ejemplos-de-código-2>Ejemplos de código</h3><ul><li><a href=https://github.com/equilibristofgo/sandbox/tree/main/04_internal/app>Aqui</a></li></ul><h2 id=introducción-a-cgo>Introducción a cgo</h2><p>Como podemos compilar nativo o para webassembly&mldr; y ademas como podemos compilar en linux para windows (o viceversa)</p><ul><li>Links a organizar<ul><li><a href=https://dh1tw.de/2019/12/cross-compiling-golang-cgo-projects/>https://dh1tw.de/2019/12/cross-compiling-golang-cgo-projects/</a></li><li><a href=https://go.dev/blog/cgo>https://go.dev/blog/cgo</a></li><li><a href=https://rotemtam.com/2020/10/30/bazel-building-cgo-bindings/>https://rotemtam.com/2020/10/30/bazel-building-cgo-bindings/</a></li><li><a href=https://freshman.tech/snippets/go/cross-compile-go-programs/>https://freshman.tech/snippets/go/cross-compile-go-programs/</a></li><li><a href=https://blog.modest-destiny.com/posts/building-golang-cgo-with-bazel/>https://blog.modest-destiny.com/posts/building-golang-cgo-with-bazel/</a></li><li><a href=https://egghead.io/lessons/go-configure-go-build-constraints-in-vs-code-to-work-with-webassembly>https://egghead.io/lessons/go-configure-go-build-constraints-in-vs-code-to-work-with-webassembly</a></li><li><a href=https://github.com/AlekSi/cgo-by-example/blob/master/main.go>https://github.com/AlekSi/cgo-by-example/blob/master/main.go</a></li><li><a href=https://riptutorial.com/go/example/21315/cgo--first-steps-tutorial>https://riptutorial.com/go/example/21315/cgo--first-steps-tutorial</a></li><li><a href=https://stackoverflow.com/questions/16931700/is-it-possible-to-use-environment-variables-in-a-cgo-cflags-comment>https://stackoverflow.com/questions/16931700/is-it-possible-to-use-environment-variables-in-a-cgo-cflags-comment</a></li><li><a href=https://www.ardanlabs.com/blog/2013/08/using-cgo-with-pkg-config-and-custom.html>https://www.ardanlabs.com/blog/2013/08/using-cgo-with-pkg-config-and-custom.html</a></li><li><a href=https://zchee.github.io/golang-wiki/cgo/>https://zchee.github.io/golang-wiki/cgo/</a></li><li><a href=https://dave.cheney.net/2013/10/12/how-to-use-conditional-compilation-with-the-go-build-tool>https://dave.cheney.net/2013/10/12/how-to-use-conditional-compilation-with-the-go-build-tool</a></li><li><a href=https://www.digitalocean.com/community/tutorials/customizing-go-binaries-with-build-tags-es>https://www.digitalocean.com/community/tutorials/customizing-go-binaries-with-build-tags-es</a></li><li><a href=https://www.digitalocean.com/community/tutorials/building-go-applications-for-different-operating-systems-and-architectures-es>https://www.digitalocean.com/community/tutorials/building-go-applications-for-different-operating-systems-and-architectures-es</a></li><li><a href=https://blog.marlin.org/cgo-referencing-c-library-in-go>https://blog.marlin.org/cgo-referencing-c-library-in-go</a></li><li><a href=https://kofo.dev/build-tags-in-golang>https://kofo.dev/build-tags-in-golang</a></li><li><a href=https://pkg.go.dev/cmd/cgo>https://pkg.go.dev/cmd/cgo</a></li><li><a href=https://dh1tw.de/2019/12/cross-compiling-golang-cgo-projects/>https://dh1tw.de/2019/12/cross-compiling-golang-cgo-projects/</a></li><li><a href=https://stackoverflow.com/questions/54048688/compiling-cgo-files-in-golang-package>https://stackoverflow.com/questions/54048688/compiling-cgo-files-in-golang-package</a></li><li><a href=https://github.com/golang/net/blob/master/nettest/nettest_windows.go>https://github.com/golang/net/blob/master/nettest/nettest_windows.go</a></li><li><a href=https://github.com/rogchap/networking/blob/master/02/digger.go>https://github.com/rogchap/networking/blob/master/02/digger.go</a></li><li><a href=https://pkg.go.dev/golang.org/x/sys/windows>https://pkg.go.dev/golang.org/x/sys/windows</a></li><li><a href=https://zetcode.com/golang/socket/>https://zetcode.com/golang/socket/</a></li><li><a href=https://stackoverflow.com/questions/42475093/go-raw-winsock>https://stackoverflow.com/questions/42475093/go-raw-winsock</a></li><li><a href=https://github.com/MicrosoftDocs/win32/blob/docs/desktop-src/WinSock/windows-sockets-1-1-blocking-routines-and-einprogress-2.md>https://github.com/MicrosoftDocs/win32/blob/docs/desktop-src/WinSock/windows-sockets-1-1-blocking-routines-and-einprogress-2.md</a></li><li><a href=https://medium.com/a-journey-with-go/go-builds-linkers-timeline-b312084ddf7d>https://medium.com/a-journey-with-go/go-builds-linkers-timeline-b312084ddf7d</a></li></ul></li></ul><h3 id=ejemplos-de-código-3>Ejemplos de código</h3><ul><li><a href>Aqui</a></li></ul><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://equilibristofgo.github.io/blog>&copy; Equilibrist of Go Blog 2022</a><div><div class=ananke-socials></div></div></div></footer></body></html>